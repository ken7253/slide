---
theme: default
titleTemplate: '%s - ken7253'
colorSchema: 'dark'
fonts:
  sans: 'M PLUS 2'
  mono: 'M PLUS 1 Code'
---
# Introduction Functional Programming
関数型プログラミングの考え方を取り入れて予測しやすいコードを書く

---
src: "../reuse/me.md"
---

---
layout: image-left
image: https://www.seshop.com/original/images/product/25646/L.png
---

## 前日譚

[「なっとく！関数型プログラミング」](https://www.shoeisha.co.jp/book/detail/9784798179803)という本を買って読んでいました。

- 参考になる内容が多かった
- 関数型の考え方を紹介

ガチガチの関数型は難しいけど  
少し取り入れてコードの品質を上げる

---
layout: center
---

関数型プログラミングの考え方を部分的に採用し  
フロントエンドでも馴染み深いライブラリといえば？

---
layout: iframe
url: https://react.dev
---

---

## 話すこと

- 純粋関数について
- シグニチャーを意識して関数を作る

---
layout: center
---

## 純粋関数

---

### 純粋関数とはなにか

関数の分類の一つで特に関数型プログラミングで重要な考え方

下記の条件を**全て満たした関数**のことを純粋関数と呼ぶ

- 引数のみを利用する
- 戻り値は常に一つだけ
- 既存の変数を変更しない

---

### 純粋関数の条件

「引数のみを利用する」とは下記のようなこと

```ts

```

---

### 純粋関数の条件

戻り値は常に１つだけ

```ts

```

先程の「引数のみを利用する」という性質と併せて  
引数のみを利用して、返り値も１つなのでテストが非常にしやすい。

---

### 純粋関数の条件

既存の変数を変更しない

```ts

```

既存の変数やオブジェクトを変更しないので意図しない挙動を起こしづらい。  
関数の内部では破壊的な操作を行わないので安心して実行ができる。

---

### 純粋関数だと何が嬉しいか

- テストしやすい
- 意図しない挙動を起こしづらい
- コードの挙動が予測しやすい

---
layout: center
---

## シグニチャー

---

## シグニチャーとはなにか

シグニチャー（シグネチャ）とは下記の情報をまとめた呼称

- 関数名
- 引数の型
- 返り値の型

---

### シグニチャーの情報が少ない場合

<div v-click>

下記のような関数があるとする。

```ts
export const foo: (a: any, b: any): any => {
  // 外部からは見えない何らかの処理
}
```

</div>
<div v-click>

上記のシグニチャーをより正確にしてみる

```ts
export const sum = (first: number, second: number): number => {
  // 外部からは見えない何らかの処理
}
```

</div>
<div v-click>

これにテストを追加してみる。

```ts
import { sum } from "./sum"

describe('与えられた引数を足し算して返却するsum関数', () => {
  test('自然数同士の足し算が正しく実行されること', () => {/* 省略 */})
  test('引数のどちらかにNaNが渡された場合例外を投げること', () => {/* 省略 */})
  test('引数のどちらかにInfinityが渡された場合例外を投げること', () => {/* 省略 */})
})
```

</div>

---

## ここまでのまとめ

- 純粋関数という視点を持つ
- 関数の設計を行う場合はシグニチャーに情報を持たせる
